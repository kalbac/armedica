!function(){"use strict";window.addEventListener("load",function(){var e=document.getElementById("needs-validation");e.addEventListener("submit",function(n){!1===e.checkValidity()&&(n.preventDefault(),n.stopPropagation()),e.classList.add("was-validated")},!1)},!1)}(),jQuery(document).ready(function(e){e(document.body).on("click",".move-to-form",function(n){n.preventDefault(),e("html, body").animate({scrollTop:e("#callback").offset().top},2e3)}),e(".service-list").slick({slide:".service-list__item",variableWidth:!0,prevArrow:'<div class="banner-head__carousel-control banner-head__carousel-control--prev slick-prev"><span class="angle"></span></div>',nextArrow:'<div class="banner-head__carousel-control banner-head__carousel-control--next slick-next"><span class="angle"></span></div>',slidesToShow:2,slidesToScroll:2,useCSS:!0,appendArrows:e(".services-nav")});var n=e(".reviews-list").slick({slide:".reviews-list__item",slidesToShow:1,slidesToScroll:1,fade:!0,prevArrow:'<div class="banner-head__carousel-control banner-head__carousel-control--prev slick-prev"><span class="angle"></span></div>',nextArrow:'<div class="banner-head__carousel-control banner-head__carousel-control--next slick-next"><span class="angle"></span></div>',appendArrows:e(".reviews-nav"),responsive:[{breakpoint:480,settings:{fade:!1,adaptiveHeight:!0}}]});480>window.innerWidth&&e(".reviews-list__item").each(function(a,s){var t=e(s).find(".text");if(t.prop("scrollHeight")>345){var i=e("<span />",{text:"Показать весь отзыв",class:"show-review"}).on("click",function(a){t.css({"max-height":"100%"}),n.slick("refresh"),e(a.target).remove()});t.parent().append(i)}}),e("#needs-validation").on("submit",function(n){n.preventDefault();var a=this,s=e(a);e.ajax({url:s.attr("action"),method:s.attr("method"),dataType:"json",data:{phone:s.find("input[name=phone]").val(),name:s.find("input[name=name]").val()},beforeSend:function(){s.find("input[type=submit]").prop("disabled",!0)},success:function(n){var t=e("<div />",{class:"form-result-popup",text:n.text});e("body").append(t),setTimeout(function(){t.remove()},2300),e(document.body).on("click",function(){t.remove()}),n.success&&a.refresh(),s.find("input[type=submit]").prop("disabled",!1)}})})});